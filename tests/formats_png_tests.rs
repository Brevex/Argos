use argos::formats::png::validate_png_header;

#[test]
fn test_validate_png_header_valid() {
    let png = [
        0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, 0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44,
        0x52, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x08, 0x02, 0x00, 0x00, 0x00, 0x90,
        0x91, 0x68, 0x36,
    ];
    let result = validate_png_header(&png);
    assert!(result.is_some());
    let info = result.unwrap();
    assert_eq!(info.width, 16);
    assert_eq!(info.height, 16);
}

#[test]
fn test_validate_png_header_invalid_signature() {
    let not_png = [0xFF, 0xD8, 0xFF, 0xE0];
    assert!(validate_png_header(&not_png).is_none());
}
